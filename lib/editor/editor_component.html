<div style="display: flex;  flex-flow: column;height: 100vh">
    <header>
        <editor-toolbar [(note)]="note"
                        [(showAboutDialog)]="showAboutDialog"
                        [(showGenerateDialog)]="showGenerateDialog"
                        [(showSeqGenerateDialog)]="showSeqDialog"
                        [(showReplaceDialog)]="showReplaceDialog"
                        [(showPrePostDialog)]="showPrePostDialog"
                        [(showDeleteLinesDialog)]="showDeleteLinesDialog"
                        [(showPreview)]="showPreview"></editor-toolbar>
    </header>


    <div style="flex:2;overflow: none;height: calc(100vh - 60px);">
    <textarea [(ngModel)]="note.text" (keyup)="changeHandler()" (keydown)="keyHandler($event)"
              [ngStyle]="{width: showPreview ? '48%':'99%'}"
              tabindex="1" autofocus id="nptextbox"
              class="primary-text-color"></textarea>

        <markdown-preview [content]="note.text" [active]="showPreview"></markdown-preview>

    </div>

    <footer style="flex:1;">
        <div style="padding-left:4px;position: absolute;bottom: 1px;min-height: 20px;width: 100%;vertical-align: bottom">
            <text-status [text]="note.text" [modified]="note.lastModified"></text-status>
        </div>
    </footer>

</div>
<about-dialog [(showDialog)]="showAboutDialog"></about-dialog>

<delete-lines-dialog [(showDialog)]="showDeleteLinesDialog" [note]="note"></delete-lines-dialog>

<generate-dialog [(showDialog)]="showGenerateDialog" [note]="note"></generate-dialog>

<replace-dialog [(showDialog)]="showReplaceDialog" [note]="note"></replace-dialog>

<prepost-dialog [(showDialog)]="showPrePostDialog" [note]="note"></prepost-dialog>

<sequence-dialog [(showDialog)]="showSeqDialog" [note]="note"></sequence-dialog>
